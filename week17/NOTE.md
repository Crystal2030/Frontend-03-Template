<!--
 * @description: description
 * @author: liuyun03
 * @Date: 2020-07-23 16:30:46
 * @LastEditors: liuyun03
 * @LastEditTime: 2020-12-02 14:01:52
-->

## 工具体系的目标

每一种工具的出现，必然都有一个非常具体的目标，比如 npm 帮助我们进行包管理，Yeoman 帮助我们初始化项目模板

### 我们对工具本身的要求是什么？

- 工具最基本的要求就是：版本一致。 只有整个团队的工具版本一致，至少要做到避免大版本差异，才能做到互相接手代码时，团队成员能够正确的使用工具开发。
- 工具体系的另一个重要需求是：避免冲突。一些工具可能互相没有干扰，比如 Yeoman 和 gulp，有一些工具则由社区设计了配合方案，比如 webpack 和 babel，有一些工具，则存在着根本性冲突，如 gulp 和 grunt

所以，在谈及具体问题之前，我们必须要有这两个要求的解决方案。这就需要引入一个新的概念：工具链。

## 工具链。

工具链是一系列互相配合的工具，能够协作完成开发任务（注：工具链这个词最早是由 C/C++ 程序员引入的概念，一般包含编译、链接、调试等工具）。

## 工具体系的设计

### 前端项目的工具链

- 初始化项目；
- 运行和调试；
- 测试（单元测试）；
- 发布。

### 典型的社区项目工具链

- Yeoman
- webpack
- ava/nyc
- aws-cli

但是，这显然不够，我们还需要一种机制，保证团队使用的工具版本一致

轻量级的做法是，在项目初始化模板中定义 npm script 并且在 npm dev-dependency 中规定它的版本号。

重量级的做法是，开发一个包装工具，在命令行中不直接使用命令，而使用包装过的命令。比如规定了一些命令：

```
def init
def dev
def test
def publish

```

## 工具体系的监控

工具体系的结果虽然是软性的，也不能完全不做监控。

一般来说，以下指标跟开发者体验较为相关：

- 调试 / 构建次数；
- 构建平均时长；
- 使用的工具版本；
- 发布次数。

总之，工具体系的监控不仅仅是衡量工具体系的好帮手，也是非常珍贵的研发数据，里面有很多可挖掘的价值。

## 总结

工具体系的目标除了单个工具解决具体问题之外，还要注意一致性和配合问题，因此我们需要工具链。

工具链一般会涵盖研发阶段的各个主要操作。工具体系的执行比较简单，很容易就可以做到完全的自动化。工具体系的监控同样非常重要，工具的监控除了帮助我们改进工具体系，对研发体系的其它部分也有帮助。
